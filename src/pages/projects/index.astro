---
import BaseLayout from '../../layouts/BaseLayout.astro';
import FeaturedProjects from '../../sections/FeaturedProjects.astro';
import Heading from '../../components/Heading.astro';
import AllItemsList from '~/components/AllItemsList.astro';
import { getCollection } from 'astro:content';

const projects = (await getCollection('projects')).sort(
  (a, b) => (b.data.pubDate?.valueOf() ?? 0) - (a.data.pubDate?.valueOf() ?? 0)
);
---

<BaseLayout
  pageTitle="projects"
  pageDescription="a collection of my work, projects, and experiments"
>
  <FeaturedProjects />
  <section>
    <Heading level="h2" size="2xl">all projects</Heading>
    <AllItemsList collection={projects} />
  </section>
</BaseLayout>
